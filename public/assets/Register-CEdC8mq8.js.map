{"version":3,"file":"Register-CEdC8mq8.js","sources":["../../src/pages/Register.tsx"],"sourcesContent":["// Register.tsx\r\nimport React, { useState } from 'react';\r\nimport { useAuth } from '../AuthContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Register() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [successMessage, setSuccessMessage] = useState(''); // Add state for success message\r\n    const { register } = useAuth();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError(''); // Clear previous errors\r\n        setSuccessMessage(''); // Clear previous success messages\r\n\r\n        try {\r\n            //  Call register with a default role, e.g., 'user'.  Adjust as needed.\r\n            const success = await register(email, password, name, 'user');\r\n            if (!success) {\r\n                setError('Registration failed.  Please check your details and try again.');\r\n            } else {\r\n                setSuccessMessage('Registration successful! You can now sign in.'); // Set success message\r\n            }\r\n            //  Optionally redirect to login or home page on successful registration.\r\n            //  You might use useHistory() hook from react-router-dom for this,\r\n            //  but since you already have a \"Sign In\" link, we'll leave it as is.\r\n        } catch (err: any) { // More specific error handling.\r\n            setError(err.message || 'Registration failed');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n                <h2 className=\"text-center text-3xl font-extrabold text-gray-900\">AML Checker</h2>\r\n                <h3 className=\"mt-6 text-center text-2xl font-bold text-gray-900\">\r\n                    Create your account\r\n                </h3>\r\n            </div>\r\n\r\n            <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n                <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n                    <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n                        {error && (\r\n                            <div className=\"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n                                <strong className=\"font-bold\">Error: </strong>\r\n                                <span className=\"block sm:inline\">{error}</span>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Success Message Display */}\r\n                        {successMessage && (\r\n                            <div className=\"bg-green-50 border border-green-400 text-green-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n                                <strong className=\"font-bold\">Success! </strong>\r\n                                <span className=\"block sm:inline\">{successMessage}</span>\r\n                            </div>\r\n                        )}\r\n\r\n\r\n                        <div>\r\n                            <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">\r\n                                Full Name\r\n                            </label>\r\n                            <div className=\"mt-1\">\r\n                                <input\r\n                                    id=\"name\"\r\n                                    name=\"name\"\r\n                                    type=\"text\"\r\n                                    autoComplete=\"name\"\r\n                                    required\r\n                                    value={name}\r\n                                    onChange={(e) => setName(e.target.value)}\r\n                                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\r\n                                Email address\r\n                            </label>\r\n                            <div className=\"mt-1\">\r\n                                <input\r\n                                    id=\"email\"\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    autoComplete=\"email\"\r\n                                    required\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\r\n                                Password\r\n                            </label>\r\n                            <div className=\"mt-1\">\r\n                                <input\r\n                                    id=\"password\"\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    autoComplete=\"new-password\"\r\n                                    required\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#4A1D96] hover:bg-[#5D2BA8] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500\"\r\n                            >\r\n                                Register\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n\r\n                    <div className=\"mt-6\">\r\n                        <div className=\"relative\">\r\n                            <div className=\"absolute inset-0 flex items-center\">\r\n                                <div className=\"w-full border-t border-gray-300\" />\r\n                            </div>\r\n                            <div className=\"relative flex justify-center text-sm\">\r\n                                <span className=\"px-2 bg-white text-gray-500\">\r\n                                    Already have an account?\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"mt-6\">\r\n                            <div className=\"flex space-x-2\">\r\n                                <Link\r\n                                    to=\"/login\"\r\n                                    className=\"flex-1 flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#4A1D96] bg-white border-purple-600 hover:bg-gray-50\"\r\n                                >\r\n                                    Sign in\r\n                                </Link>\r\n                                <Link\r\n                                    to=\"/kycbox\"\r\n                                    className=\"flex-1 flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200\"\r\n                                >\r\n                                    Back to KYCBOX\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":["Register","email","setEmail","useState","password","setPassword","name","setName","error","setError","successMessage","setSuccessMessage","register","useAuth","handleSubmit","e","__async","err","jsxs","jsx","Link"],"mappings":"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"}